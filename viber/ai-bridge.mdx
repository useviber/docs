---
title: "AI Bridge Integration"
description: "Connect Viber to Cursor CLI and other local AI coding agents"
---

## What is AI Bridge?

**AI Bridge** is Viber's local-only workflow that lets you select an element, type an instruction, and have that instruction executed by a chosen AI coding agent (like Cursor CLI), with streamed results back to you. This provides a seamless local development experience without external servers.

## üöÄ Quick Setup

### 1. Install Cursor CLI

First, install the Cursor CLI tool:

```bash
npm install -g @cursor/cli
```

**Verify installation:**
```bash
cursor-agent --version
```

<Tip>
If you get permission errors, you may need to use `sudo npm install -g @cursor/cli` or configure npm to use a different directory.
</Tip>

### 2. Start Viber with AI Bridge

In your project directory:

```bash
viber start
```

### 3. Select AI Provider

1. **Click the Viber widget** (ü§ñ) in your browser
2. **Choose "Cursor Bridge"** from the AI Provider Selection
3. **Select an element** on your page
4. **Type your instruction** and submit

## üîß How AI Bridge Works

### Local-Only Architecture

```
Your Browser ‚Üí Viber Plugin ‚Üí Viber CLI ‚Üí Cursor CLI ‚Üí Your Project
```

**Key benefits:**
- ‚úÖ **No external servers** - Everything runs locally
- ‚úÖ **Real-time streaming** - See AI responses as they generate
- ‚úÖ **Smart buffering** - Smooth, readable output
- ‚úÖ **Element context** - AI understands what you're working on

### Smart Streaming

Viber's AI Bridge includes intelligent output buffering:

- **Sentence-level streaming** - Flushes on newlines and sentence endings
- **Smart delays** - Batches small chunks for better readability
- **Real-time feedback** - See progress as AI generates code

## üéØ Using Cursor Bridge

### Basic Usage

1. **Select Cursor Bridge** in the AI Provider Selection
2. **Click any element** on your page to select it
3. **Type your instruction** in natural language
4. **Submit** and watch Cursor CLI process your request
5. **View streaming results** in real-time

### Example Instructions

```
"Make this button larger and change the color to blue"
"Add a hover effect to this card"
"Convert this div to a React component"
"Add error handling to this form"
"Style this list with better spacing"
```

### What Cursor CLI Receives

When you submit an instruction, Viber sends a structured prompt to Cursor CLI:

```
Element Context: [Selected element details]
Current File: [File path where element exists]
User Goal: [Your instruction]
Framework: [Detected framework - React/Vue/Angular/etc.]
```

## üîå Advanced Configuration

### Custom Cursor CLI Arguments

You can customize how Cursor CLI runs by modifying the bridge configuration:

```typescript
// In viber-cli/src/bridge/cursor.ts
const args = [
  '-p', prompt,
  '--output-format', 'text',
  // Add custom arguments here
];
```

### Environment Variables

Set custom environment variables for Cursor CLI:

```bash
export CURSOR_MODEL="claude-3.5-sonnet"
export CURSOR_TEMPERATURE="0.7"
viber start
```

## üõ†Ô∏è Troubleshooting

### Common Issues

**"cursor-agent: command not found"**
```bash
# Reinstall Cursor CLI
npm install -g @cursor/cli

# Check PATH
which cursor-agent

# Verify installation
cursor-agent --help
```

**"No response from Cursor Bridge"**
```bash
# Check if Viber CLI is running
viber status

# Restart Viber CLI
viber start

# Check Cursor CLI directly
cursor-agent -p "test prompt"
```

**"Streaming output is fragmented"**
- This is normal for very short responses
- Longer responses are automatically buffered
- Check that you're using the latest Viber CLI version

### Debug Mode

Enable verbose logging:

```bash
# Start Viber with debug
viber start --debug

# Check CLI logs for AI Bridge activity
# Look for "Starting cursor..." and streaming messages
```

## üîÑ AI Bridge Lifecycle

### 1. Instruction Submission
- User selects element and types instruction
- Plugin sends request to Viber CLI
- CLI routes to AI Bridge Manager

### 2. AI Processing
- AI Bridge Manager formats prompt for Cursor CLI
- Cursor CLI processes instruction with element context
- Results stream back through CLI to plugin

### 3. Result Display
- Plugin receives streaming output
- Smart buffering ensures readable display
- User sees real-time AI response

## üìö Examples

### React Component Modification

**Instruction:** "Make this button component accept a variant prop"

**What Cursor CLI receives:**
```
Element Context: <Button className="btn-primary">Click me</Button>
Current File: src/components/Button.tsx
User Goal: Make this button component accept a variant prop
Framework: React
```

**Result:** Cursor CLI generates updated Button component with variant prop support

### Vue Template Update

**Instruction:** "Add a loading state to this form"

**What Cursor CLI receives:**
```
Element Context: <form @submit="handleSubmit">...</form>
Current File: src/components/UserForm.vue
User Goal: Add a loading state to this form
Framework: Vue
```

**Result:** Cursor CLI adds loading state logic and UI to the form

## üîó Related Documentation

<CardGroup cols={2}>
<Card title="Quickstart Guide" icon="rocket" href="/viber/quickstart">
  Get started with Viber in under 2 minutes
</Card>

<Card title="CLI Commands" icon="terminal" href="/viber/cli">
  Complete CLI reference and configuration options
</Card>

<Card title="Universal Plugin" icon="puzzle-piece" href="/viber/plugin">
  Learn how Viber automatically injects itself
</Card>

<Card title="Extension Setup" icon="code" href="/viber/extension">
  Set up IDE extensions and browser integrations
</Card>
</CardGroup>

---

**AI Bridge enables local-only AI-powered development with Cursor CLI and other local AI tools.** No external servers, no complex setup - just powerful local AI coding assistance! üöÄ
